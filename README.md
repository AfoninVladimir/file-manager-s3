# File Manager S3

–í–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Ñ–∞–π–ª–∞–º–∏ –≤ S3-—Ö—Ä–∞–Ω–∏–ª–∏—â–µ (Timeweb Cloud S3). –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —É–¥–æ–±–Ω—ã–π –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –æ–±—ä–µ–∫—Ç–∞–º–∏ S3: –ø—Ä–æ—Å–º–æ—Ç—Ä, –∑–∞–≥—Ä—É–∑–∫–∞, —É–¥–∞–ª–µ–Ω–∏–µ, –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤ –∏ —Å–æ–∑–¥–∞–Ω–∏–µ –ø–∞–ø–æ–∫.

## üöÄ –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

- **Backend**: ASP.NET Core 8.0 (C#)
- **Frontend**: Vue.js 2, Axios
- **S3 SDK**: AWS SDK for .NET (Amazon.S3)
- **–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è**: Docker

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

–ü—Ä–æ–µ–∫—Ç —Å–æ—Å—Ç–æ–∏—Ç –∏–∑ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –º–æ–¥—É–ª–µ–π:

```
file-manager-s3/
‚îú‚îÄ‚îÄ FileManager/          # –û—Å–Ω–æ–≤–Ω–æ–µ –≤–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ (ASP.NET Core MVC)
‚îÇ   ‚îú‚îÄ‚îÄ ApiControllers/   # API –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å S3
‚îÇ   ‚îú‚îÄ‚îÄ Controllers/       # MVC –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã
‚îÇ   ‚îú‚îÄ‚îÄ Models/           # –ú–æ–¥–µ–ª–∏ –∑–∞–ø—Ä–æ—Å–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ Views/            # Razor –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è
‚îÇ   ‚îî‚îÄ‚îÄ wwwroot/          # –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Ñ–∞–π–ª—ã (CSS, JS)
‚îú‚îÄ‚îÄ S3Service/            # –°–µ—Ä–≤–∏—Å –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å S3
‚îú‚îÄ‚îÄ Entities/             # –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö
‚îú‚îÄ‚îÄ Enums/                # –ü–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏—è
‚îî‚îÄ‚îÄ Tools/                # –£—Ç–∏–ª–∏—Ç—ã
```

## ‚ú® –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å

- üìÇ **–ü—Ä–æ—Å–º–æ—Ç—Ä —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ** - –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤ –∏ –ø–∞–ø–æ–∫ –∏–∑ S3 bucket
- üì§ **–ó–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–æ–≤** - –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ —Ñ–∞–π–ª–æ–≤
- üìÅ **–°–æ–∑–¥–∞–Ω–∏–µ –ø–∞–ø–æ–∫** - —Å–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤—ã—Ö –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–π
- ‚úèÔ∏è **–ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ** - –ø–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–æ–≤ –∏ –ø–∞–ø–æ–∫
- üóëÔ∏è **–£–¥–∞–ª–µ–Ω–∏–µ** - —É–¥–∞–ª–µ–Ω–∏–µ –æ–¥–Ω–æ–≥–æ –∏–ª–∏ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö –æ–±—ä–µ–∫—Ç–æ–≤
- üìä **–ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ —Ñ–∞–π–ª–∞—Ö** - –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞ –∏ –¥–∞—Ç—ã –∏–∑–º–µ–Ω–µ–Ω–∏—è
- ‚úÖ **–ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–π –≤—ã–±–æ—Ä** - –≤—ã–±–æ—Ä –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Ñ–∞–π–ª–æ–≤ –¥–ª—è –º–∞—Å—Å–æ–≤—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π

## üõ†Ô∏è –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- .NET 8.0 SDK
- Docker (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –¥–ª—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏–∏)
- –£—á–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ S3 (Access Key –∏ Secret Access Key)
- S3 bucket –≤ Timeweb Cloud

## üì¶ –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

### 1. –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è

```bash
git clone <repository-url>
cd file-manager-s3
```

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —É—á–µ—Ç–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö S3

–í —Ñ–∞–π–ª–µ `S3Service/ServiceS3.cs` –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —É–∫–∞–∑–∞—Ç—å –≤–∞—à–∏ —É—á–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ:

```csharp
private string _s3_access_key { get; set; } = "YOUR_ACCESS_KEY";
private string _s3_secret_access_key { get; set; } = "YOUR_SECRET_KEY";
private string _bucketName { get; set; } = "YOUR_BUCKET_NAME";
```

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è**: –î–ª—è –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –∏–ª–∏ User Secrets –≤–º–µ—Å—Ç–æ —Ö–∞—Ä–¥–∫–æ–¥–∞ –≤ –∫–æ–¥–µ.

### 3. –í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π

```bash
dotnet restore
```

### 4. –°–±–æ—Ä–∫–∞ –ø—Ä–æ–µ–∫—Ç–∞

```bash
dotnet build
```

### 5. –ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

```bash
cd FileManager
dotnet run
```

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ –ø–æ –∞–¥—Ä–µ—Å—É: `https://localhost:5001` –∏–ª–∏ `http://localhost:5000`

## üê≥ –ó–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ Docker

### –°–±–æ—Ä–∫–∞ –æ–±—Ä–∞–∑–∞

```bash
docker build -t file-manager-s3 -f FileManager/Dockerfile .
```

### –ó–∞–ø—É—Å–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞

```bash
docker run -p 8080:8080 file-manager-s3
```

## üì° API Endpoints

–ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç —Å–ª–µ–¥—É—é—â–∏–µ API endpoints:

| –ú–µ—Ç–æ–¥ | –ü—É—Ç—å | –û–ø–∏—Å–∞–Ω–∏–µ |
|-------|------|----------|
| GET | `/S3Manager/directories` | –ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ —Ñ–∞–π–ª–æ–≤ –∏ –ø–∞–ø–æ–∫ |
| POST | `/S3Manager/folder/create` | –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é –ø–∞–ø–∫—É |
| POST | `/S3Manager/object/add` | –ó–∞–≥—Ä—É–∑–∏—Ç—å —Ñ–∞–π–ª(—ã) |
| POST | `/S3Manager/object/rename` | –ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞—Ç—å –æ–±—ä–µ–∫—Ç |
| DELETE | `/S3Manager/object/delete` | –£–¥–∞–ª–∏—Ç—å –æ–±—ä–µ–∫—Ç(—ã) |

### –ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤

#### –ü–æ–ª—É—á–∏—Ç—å —Å–ø–∏—Å–æ–∫ –æ–±—ä–µ–∫—Ç–æ–≤
```http
GET /S3Manager/directories
```

#### –°–æ–∑–¥–∞—Ç—å –ø–∞–ø–∫—É
```http
POST /S3Manager/folder/create
Content-Type: application/json

{
  "folderName": "new-folder"
}
```

#### –ó–∞–≥—Ä—É–∑–∏—Ç—å —Ñ–∞–π–ª
```http
POST /S3Manager/object/add
Content-Type: multipart/form-data

files: [file1, file2, ...]
```

#### –ü–µ—Ä–µ–∏–º–µ–Ω–æ–≤–∞—Ç—å –æ–±—ä–µ–∫—Ç
```http
POST /S3Manager/object/rename
Content-Type: application/json

{
  "oldName": "old-name.txt",
  "newName": "new-name.txt"
}
```

#### –£–¥–∞–ª–∏—Ç—å –æ–±—ä–µ–∫—Ç(—ã)
```http
DELETE /S3Manager/object/delete
Content-Type: application/json

{
  "objects": ["file1.txt", "file2.txt"]
}
```

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### –ú–æ–¥—É–ª–∏ –ø—Ä–æ–µ–∫—Ç–∞

- **FileManager** - –í–µ–±-–ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å MVC –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–æ–π, —Å–æ–¥–µ—Ä–∂–∏—Ç –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã –∏ –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏—è
- **S3Service** - –°–µ—Ä–≤–∏—Å–Ω—ã–π —Å–ª–æ–π –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å S3 API —á–µ—Ä–µ–∑ AWS SDK
- **Entities** - –ú–æ–¥–µ–ª–∏ –¥–∞–Ω–Ω—ã—Ö (Directory, GetDirectoriesResponse, UnitSize)
- **Enums** - –ü–µ—Ä–µ—á–∏—Å–ª–µ–Ω–∏—è (Type3SObject)
- **Tools** - –£—Ç–∏–ª–∏—Ç–∞—Ä–Ω—ã–µ –∫–ª–∞—Å—Å—ã (—Ä–∞—Å—á–µ—Ç —Ä–∞–∑–º–µ—Ä–∞ —Ñ–∞–π–ª–æ–≤)

### –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã

- `ServiceS3` - –æ—Å–Ω–æ–≤–Ω–æ–π —Å–µ—Ä–≤–∏—Å –¥–ª—è –æ–ø–µ—Ä–∞—Ü–∏–π —Å S3
- `S3Controller` - API –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ HTTP –∑–∞–ø—Ä–æ—Å–æ–≤
- `HomeController` - MVC –∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä –¥–ª—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è –≥–ª–∞–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã
- Vue.js –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã - —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ –ª–æ–≥–∏–∫–∞ –≤ `wwwroot/js/s3.js`
